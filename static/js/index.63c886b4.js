(function(t){function e(e){for(var i,n,r=e[0],l=e[1],c=e[2],m=0,d=[];m<r.length;m++)n=r[m],Object.prototype.hasOwnProperty.call(a,n)&&a[n]&&d.push(a[n][0]),a[n]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i]);u&&u(e);while(d.length)d.shift()();return o.push.apply(o,c||[]),s()}function s(){for(var t,e=0;e<o.length;e++){for(var s=o[e],i=!0,r=1;r<s.length;r++){var l=s[r];0!==a[l]&&(i=!1)}i&&(o.splice(e--,1),t=n(n.s=s[0]))}return t}var i={},a={index:0},o=[];function n(e){if(i[e])return i[e].exports;var s=i[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=i,n.d=function(t,e,s){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(s,i,function(e){return t[e]}.bind(null,i));return s},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var c=0;c<r.length;c++)e(r[c]);var u=l;o.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"0bcd":function(t,e,s){"use strict";s("341c")},1057:function(t,e,s){},"10f6":function(t,e,s){},1153:function(t,e,s){"use strict";s("3649")},"1b16":function(t,e,s){},"20a7":function(t,e,s){"use strict";s("10f6")},"21cc":function(t,e,s){},"2f1b":function(t,e,s){},"31c3":function(t,e,s){t.exports=s.p+"img/df6ff48a10611abcaf0e9754def44ed0头像1.32550700.jpg"},"341c":function(t,e,s){},"361f":function(t,e,s){t.exports=s.p+"img/海报2.5fb6a3a9.jpg"},3649:function(t,e,s){},"3b9b":function(t,e,s){},4849:function(t,e,s){t.exports=s.p+"img/e55b272c9a375ce3d0b38b32ce794ccf1631248147974.57201ebc.jpg"},"48d8":function(t,e,s){},4955:function(t,e,s){"use strict";s("1057")},"49b7":function(t,e,s){"use strict";s("aad3")},"4a80":function(t,e,s){"use strict";s("617d")},"540e":function(t,e,s){"use strict";s("21cc")},"541d":function(t,e,s){"use strict";s("b19e")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var i=s("2b0e"),a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-view",{attrs:{films:t.films,user:t.user}}),s("FooterGuide"),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"},[s("div",{staticClass:"loadingSvg"},[t._v("")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.postShow,expression:"postShow"}],staticClass:"postPanel"},[s("div",{staticClass:"post_A"},[t._v("A")]),s("div",{staticClass:"post_B"},[t._v("B")]),s("div",{staticClass:"post_logo"},[t._v("影视")]),s("button",{on:{click:function(e){t.postShow=!1}}},[t._v("跳过"+t._s(t.post_time)+"s")])])],1)},o=[],n=(s("4de4"),s("4e82"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"footerGuide"},[s("ul",[s("li",[s("router-link",{class:{current:"/home"===t.$route.path},attrs:{to:"/home"}},[s("span",[t._v("")]),t._v(" 首页")])],1),s("li",[s("router-link",{class:{current:"/search"===t.$route.path},attrs:{to:"/search"}},[s("span",[t._v("")]),t._v(" 搜索")])],1),s("li",[s("router-link",{class:{current:"/community/recommend"===t.$route.path},attrs:{to:"/community/recommend"}},[s("span",[t._v("")]),t._v(" 社区")])],1),s("li",[s("router-link",{class:{current:"/individual"===t.$route.path},attrs:{to:"/individual"}},[s("span",[t._v("")]),t._v(" 我")])],1)])])}),r=[],l={name:"FooterGuide"},c=l,u=(s("4a80"),s("2877")),m=Object(u["a"])(c,n,r,!1,null,null,null),d=m.exports,h={name:"App",components:{FooterGuide:d},data:function(){return{films:"",user:{nickname:"请先登录",status:!1,coin:0,account:"",fans:"",headUrl:"9d589f239e4d11d86734540db915e242播放按钮光明.png",real_name:"",email:"",age:"",gender:""},loading:!1,postShow:!0,post_time:5}},methods:{loginStatus:function(t){this.user.nickname=t[0].nickname,this.user.status=!0,this.user.coin=t[0].coin,this.user.account=t[0].account,this.user.fans=t[0].fans,this.user.headUrl=t[0].head_image,this.user.real_name=t[0].real_name,this.user.email=t[0].email,this.user.age=t[0].age,this.user.gender=t[0].gender},filterSortByChose:function(t){console.log(t.region),""==t.region&&""==t.time&&""==t.type||(""!=t.region?(this.films=this.films.filter((function(e){return e.film_region==t.region})),""!=t.type?(this.films=this.films.filter((function(e){return e.film_type==t.type})),""!=t.time&&(0==t.time?this.films.sort((function(t,e){return e.film_date-t.film_date})):this.films.sort((function(t,e){return t.film_date-e.film_date})))):""!=t.time&&(0==t.time?this.films.sort((function(t,e){return e.film_date-t.film_date})):this.films.sort((function(t,e){return t.film_date-e.film_date})))):""!=t.type?(this.films=this.films.filter((function(e){return e.film_type==t.type})),""!=t.time&&(0==t.time?this.films.sort((function(t,e){return e.film_date-t.film_date})):this.films.sort((function(t,e){return t.film_date-e.film_date})))):""!=t.time&&(1==t.time?(console.log(t.time),this.films.sort((function(t,e){return e.film_date-t.film_date}))):this.films.sort((function(t,e){return t.film_date-e.film_date}))),console.log(123))},updataDataBase:function(){var t=this;this.$http.get("http://localhost:8000/api").then((function(e){t.films=e.data.data,console.log(e.data),t.films.sort((function(t,e){return e.id-t.id}))}),(function(t){console.log("请求失败",t.message)}))},exitLogin:function(){this.user.status=!1,this.user.nickname="请先登录"},reviseUserHead:function(t){this.user.headUrl=t.head_image}},mounted:function(){var t=this;setTimeout((function(){t.postShow=!1}),5e3),setInterval((function(){t.post_time=t.post_time-1}),1e3),this.loading=!0,this.$http.get("http://localhost:8000/api").then((function(e){t.loading=!1,t.films=e.data.data,console.log(e.data)}),(function(e){t.loading=!1,console.log("请求失败",e.message)})),this.$bus.$on("loginStatus",this.loginStatus),this.$bus.$on("filterSortByChose",this.filterSortByChose),this.$bus.$on("updataDataBase",this.updataDataBase),this.$bus.$on("exitLogin",this.exitLogin),this.$bus.$on("reviseUserHead",this.reviseUserHead)}},p=h,v=(s("034f"),Object(u["a"])(p,a,o,!1,null,null,null)),f=v.exports,g=s("8c4f"),w=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("transition",[s("router-view",{staticClass:"filter"})],1),s("div",{staticClass:"home"},[t._m(0),t._m(1),s("div",{staticClass:"home-classify"},[s("div",{staticClass:"home-classify-nav"},[s("div",{staticClass:"home-classify-nav-left",on:{click:t.scoreSort}},[t._v(t._s(t.toggleText))]),s("span",[t._v("")]),s("router-link",{attrs:{to:"/filer_entries"}},[s("div",{staticClass:"home-classify-nav-right"},[t._v("")])])],1),s("ul",t._l(t.films,(function(e){return s("li",{key:e.id,on:{click:function(s){return t.queryDetails(e.id)}}},[s("div",{staticClass:"home-filmScore"},[t._v(t._s(e.film_score))]),s("img",{attrs:{src:e.film_post,alt:""}}),s("div",{staticClass:"home-filmName"},[t._v(t._s(e.film_name))])])})),0)])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilmDetails,expression:"showFilmDetails"}],staticClass:"home-filmDetails"},[s("div",{staticClass:"hone-closeFilmDetails",on:{click:function(e){t.showFilmDetails=!t.showFilmDetails}}},[t._v("")]),s("div",{staticClass:"home-filmDetails-post"},[s("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.filmDetails.film_post,alt:""}})]),s("div",{staticClass:"home-filmDetails-name"},[t._v(" "+t._s(t.filmDetails.film_name)+" ")]),s("header",[t._v("BD")]),s("div",{staticClass:"home-filmDetails-time"},[t._v(" 发行年份："+t._s(t.filmDetails.film_date)+" ")]),s("div",{staticClass:"home-filmDetails-actors"},[t._v(" 主演："),s("a",[t._v(t._s(t.filmDetails.film_actor))])]),s("div",{staticClass:"home-filmDetails-director"},[t._v(" 导演："+t._s(t.filmDetails.film_director)+" ")]),s("div",{staticClass:"home-filmDetails-region"},[t._v(" 地区："+t._s(t.filmDetails.film_region)+" ")]),s("div",{staticClass:"home-filmDetails-type"},[t._v(" 地区："+t._s(t.filmDetails.film_type)+" ")]),s("div",{staticClass:"home-filmDetails-score"},[t._v(" "+t._s(t.filmDetails.film_score)+"% "),s("span",{staticStyle:{color:"red"}},[t._v("")])]),s("div",{staticClass:"home-filmDetails-message"},[s("span",[t._v("剧情详情：")]),s("br"),t._v("    "),s("span",{staticStyle:{color:"rgb(0, 90, 100)"}},[t._v(t._s(t.filmDetails.film_message))])])])],1)},_=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home-head"},[t._v(" "),s("i",{staticStyle:{"font-size":"20px"}},[t._v("AB")]),t._v(" "),s("span",{staticStyle:{color:"white"}},[t._v("影视")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"swiper-container"},[i("div",{staticClass:"swiper-wrapper"},[i("div",{staticClass:"swiper-slide"},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:s("a9aa"),alt:""}})]),i("div",{staticClass:"swiper-slide"},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:s("361f"),alt:""}})]),i("div",{staticClass:"swiper-slide"},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:s("b403"),alt:""}})])]),i("div",{staticClass:"swiper-pagination"})])}],b=(s("159b"),s("6d3b")),k=(s("e25d"),s("3040"),{name:"Home",props:["films"],data:function(){return{showFilmDetails:!1,filmDetails:[],toggleHighToLow:"default",toggleText:"默认排序"}},methods:{queryDetails:function(t){var e=this;this.showFilmDetails=!0,this.films.forEach((function(s){s.id===t&&(e.filmDetails=s)}))},scoreSort:function(){var t=document.querySelector(".home-classify-nav span");"default"==this.toggleHighToLow?(this.films.sort((function(t,e){return e.film_score-t.film_score})),this.toggleText="评分由高至低",t.style.opacity=1,t.classList.remove("active"),this.toggleHighToLow="highToLow"):"highToLow"==this.toggleHighToLow?(this.films.sort((function(t,e){return t.film_score-e.film_score})),this.toggleText="评分由低至高",t.style.opacity=1,t.classList.add("active"),this.toggleHighToLow="lowToHigh"):(this.films.sort((function(t,e){return e.id-t.id})),t.style.opacity=0,this.toggleText="默认排序",this.toggleHighToLow="default")}},watch:{},mounted:function(){var t=new b["a"](".swiper-container",{autoplay:!0,loop:!0,pagination:{el:".swiper-pagination"},scrollbar:{el:".swiper-scrollbar"}});setInterval((function(){t.slideNext()}),5e3)},beforeDestroy:function(){this.$bus.$emit("updataDataBase")}}),C=k,S=(s("a4d5"),Object(u["a"])(C,w,_,!1,null,null,null)),y=S.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"FilterEntries"},[s("div",{staticClass:"login-back",on:{click:t.backHome}},[t._v("")]),s("header",[t._v("选择分类")]),t._m(0)])},$=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("main",[s("div",{staticClass:"timeSort"},[s("ul",[s("li",[t._v("年份从上到下")]),s("li",[t._v("年份从下到上")])])]),s("div",{staticClass:"typeSort"},[s("ul",[s("li",[t._v("科幻魔幻")]),s("li",[t._v("历史战争")]),s("li",[t._v("恐怖惊悚")]),s("li",[t._v("剧情动作")]),s("li",[t._v("动画动漫")])])]),s("div",{staticClass:"regionSort"},[s("ul",[s("li",[t._v("欧美")]),s("li",[t._v("亚洲")])])])])}],D={name:"FilterEntries",data:function(){return{filterSortMsg:{time:"",type:"",region:""}}},methods:{backHome:function(){this.$bus.$emit("filterSortByChose",this.filterSortMsg),this.$router.back()}},mounted:function(){for(var t=this,e=document.querySelectorAll(".FilterEntries .timeSort li"),s=function(s){e[s].addEventListener("click",(function(){for(var i=0;i<e.length;i++)e[i].classList.remove("current");e[s].classList.add("current"),t.filterSortMsg.time=s+1}))},i=0;i<e.length;i++)s(i);for(var a=document.querySelectorAll(".FilterEntries .typeSort li"),o=function(e){a[e].addEventListener("click",(function(){for(var s=0;s<a.length;s++)a[s].classList.remove("current");a[e].classList.add("current"),t.filterSortMsg.type=0==e?"科幻魔幻":1==e?"历史战争":2==e?"恐怖惊悚":3==e?"剧情动作":"动画动漫"}))},n=0;n<a.length;n++)o(n);for(var r=document.querySelectorAll(".FilterEntries .regionSort li"),l=function(e){r[e].addEventListener("click",(function(){for(var s=0;s<r.length;s++)r[s].classList.remove("current");r[e].classList.add("current"),t.filterSortMsg.region=0==e?"美国":"中国"}))},c=0;c<r.length;c++)l(c)}},L=D,P=(s("e0af"),Object(u["a"])(L,x,$,!1,null,null,null)),N=P.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"search-head"},[t._v("搜 索")]),s("div",{staticClass:"search-search"},[s("span",[t._v("输入你要搜索的电影")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInfo,expression:"searchInfo"}],attrs:{type:"text"},domProps:{value:t.searchInfo},on:{input:function(e){e.target.composing||(t.searchInfo=e.target.value)}}}),s("button",{on:{click:t.searchFilm}},[t._v("")])]),s("div",{staticClass:"search-result"},[s("ul",t._l(t.searchResult,(function(e){return s("li",{key:e.id,on:{click:function(s){return t.checkDetails(e.id)}}},[s("div",{staticClass:"search-result-post"},[s("img",{attrs:{src:e.film_post,alt:""}})]),s("header",[t._v(t._s(e.film_name))]),s("footer",[t._v("主演:"+t._s(e.film_actor))]),s("main",[t._v(t._s(e.film_score))])])})),0)]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showFilmDetails,expression:"showFilmDetails"}],staticClass:"home-filmDetails"},[s("div",{staticClass:"hone-closeFilmDetails",on:{click:function(e){t.showFilmDetails=!t.showFilmDetails}}},[t._v("")]),s("div",{staticClass:"home-filmDetails-post"},[s("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.searchResultDetails.film_post,alt:""}})]),s("div",{staticClass:"home-filmDetails-name"},[t._v(" "+t._s(t.searchResultDetails.film_name)+" ")]),s("header",[t._v("BD")]),s("div",{staticClass:"home-filmDetails-time"},[t._v(" 发行年份："+t._s(t.searchResultDetails.film_date)+" ")]),s("div",{staticClass:"home-filmDetails-actors"},[t._v(" 主演："),s("a",[t._v(t._s(t.searchResultDetails.film_actor))])]),s("div",{staticClass:"home-filmDetails-director"},[t._v(" 导演："+t._s(t.searchResultDetails.film_director)+" ")]),s("div",{staticClass:"home-filmDetails-region"},[t._v(" 地区："+t._s(t.searchResultDetails.film_region)+" ")]),s("div",{staticClass:"home-filmDetails-score"},[t._v(" "+t._s(t.searchResultDetails.film_score)+"% "),s("span",{staticStyle:{color:"red"}},[t._v("")])]),s("div",{staticClass:"home-filmDetails-message"},[s("span",[t._v("剧情详情：")]),s("br"),t._v("    "),s("span",{staticStyle:{color:"rgb(0, 90, 100)"}},[t._v(t._s(t.searchResultDetails.film_message))])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.showMistake,expression:"showMistake"}],staticClass:"search-mistake"})])},I=[],M={name:"Search",props:["films"],data:function(){return{searchInfo:"",searchResult:[],searchResultDetails:[],showFilmDetails:!1,showMistake:!1}},methods:{searchFilm:function(){var t=this;""==this.searchInfo?this.searchResult=[]:(this.searchResult=this.films.filter((function(e){return-1!=e.film_name.indexOf(t.searchInfo)})),""==this.searchResult?(this.showMistake=!0,setTimeout((function(){t.showMistake=!1}),5e3)):this.showMistake=!1)},checkDetails:function(t){var e=this;this.searchResult.forEach((function(s){s.id==t&&(e.showFilmDetails=!0,e.searchResultDetails=s)}))}},mounted:function(){}},A=M,j=(s("20a7"),Object(u["a"])(A,T,I,!1,null,null,null)),E=j.exports,O=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"community"},[i("div",{staticClass:"community-head"},[t._v("影迷社区 "),i("div",{staticClass:"community-head-write",on:{click:t.writeArticle}},[t._v("")])]),i("div",{staticClass:"community-nav"},[i("router-link",{attrs:{to:"/community/recommend","active-class":"current"}},[t._v("推荐")]),i("router-link",{attrs:{to:"/community/new","active-class":"current"}},[t._v("最新")])],1),i("router-view"),i("div",{directives:[{name:"show",rawName:"v-show",value:t.promptToLoginShow,expression:"promptToLoginShow"}],staticClass:"promptToLogin"},[i("main",[i("div",{staticClass:"close",on:{click:function(e){t.promptToLoginShow=!1}}},[t._v("")]),i("header",[t._v("当前你还没有登录")]),i("button",{on:{click:function(e){return t.$router.push("/login")}}},[t._v("立即登录")])])]),i("transition",{attrs:{name:"writeArticleInfo"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.writePanelShow,expression:"writePanelShow"}],staticClass:"writeArticle"},[i("div",{staticClass:"close",on:{click:function(e){t.writePanelShow=!1}}},[t._v("")]),i("header",[t._v("发帖")]),i("div",{staticClass:"writeTitle"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.article.title,expression:"article.title"}],attrs:{type:"text",placeholder:"文章标题"},domProps:{value:t.article.title},on:{input:function(e){e.target.composing||t.$set(t.article,"title",e.target.value)}}})]),i("main",[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.article.content,expression:"article.content"}],attrs:{placeholder:"内容"},domProps:{value:t.article.content},on:{input:function(e){e.target.composing||t.$set(t.article,"content",e.target.value)}}})]),i("button",{on:{click:t.submit}},[t._v("发布")]),i("footer",{on:{click:t.openFile}},[i("span",[t._v(t._s(t.pic))]),i("input",{ref:"getFileInput",attrs:{type:"file",accept:"image/*",webkitRelativePath:""},on:{change:function(e){return t.getFile(e)}}})]),i("div",{staticClass:"showFile"},[i("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.url,alt:""}})])])]),i("transition",{attrs:{name:"showArticleInfo"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowArticleInfo,expression:"isShowArticleInfo"}],staticClass:"article-info"},[i("div",{staticClass:"login-back",on:{click:function(e){t.isShowArticleInfo=!1}}},[t._v("")]),i("header",[t._v("文章详情")]),i("main",[i("div",{staticClass:"article-info-author"},[i("div",{staticClass:"article-info-authorHead"},[i("img",{staticStyle:{width:"100%",height:"100%","border-radius":"50%"},attrs:{src:s("7951")("./"+t.user.headUrl),alt:""}})]),i("div",{staticClass:"article-info-authorName"},[t._v(t._s(t.articleInfo.user_name))]),i("div",{staticClass:"article-info-authorfans"},[t._v("粉丝:0")]),i("div",{staticClass:"article-info-followAuthor"},[t._v("+关注")])]),i("div",{staticClass:"article-info-content"},[i("div",{staticClass:"article-info-contentHead"},[t._v(t._s(t.articleInfo.article_title))]),i("div",{staticClass:"article-info-contentBody"},[t._v(t._s(t.articleInfo.article_content))])])]),i("div",{staticClass:"comment_panel"},[i("ul",[t._l(t.comment,(function(e){return i("li",{key:e.comment_id},[i("span",[t._v(t._s(e.user_nickname))]),i("span",[t._v(t._s(e.user_comment))]),i("span",[t._v(" "+t._s(e.comment_like))])])})),i("li",{staticStyle:{opacity:"0"}})],2)]),i("footer",[i("div",{staticClass:"article-info-comment",on:{click:t.beginComment}},[t._v("    来指点一下吧 ")]),i("div",{staticClass:"article-info-collect"},[t._v(" "),i("span",[t._v(t._s(t.articleInfo.article_collect))])]),i("div",{staticClass:"article-info-like",on:{click:t.likeThis}},[t._v(" "),i("span",[t._v(t._s(t.articleInfo.article_like))])]),i("div",{staticClass:"article-info-transmit"},[t._v(" "),i("span",[t._v(t._s(t.articleInfo.article_transmit))])])]),i("div",{ref:"comment",staticClass:"article-info-commentPanel"},[i("div",{staticClass:"hide",on:{click:t.closeComment}}),i("div",{staticClass:"input"},[i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.user_comment,expression:"user_comment"}],attrs:{placeholder:"请输入你的神评"},domProps:{value:t.user_comment},on:{input:function(e){e.target.composing||(t.user_comment=e.target.value)}}})]),i("button",{on:{click:t.submitComment}},[t._v("发表")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isloading,expression:"isloading"}],staticClass:"articlesIsLoading"},[i("span",[t._v("")]),i("h5",[t._v("加载中...")])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowLikeCommentTransmit,expression:"isShowLikeCommentTransmit"}],staticClass:"likeCommentTransmit-promptPanel"},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.isShowLikeCommentTransmitSuccess,expression:"isShowLikeCommentTransmitSuccess"}],staticStyle:{color:"green"}},[t._v(" "+t._s(t.likeCommentTransmitMsg))]),i("span",{directives:[{name:"show",rawName:"v-show",value:!t.isShowLikeCommentTransmitSuccess,expression:"!isShowLikeCommentTransmitSuccess"}],staticStyle:{color:"red"}},[t._v(" "+t._s(t.likeCommentTransmitMsg))])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.prompt.isShow,expression:"prompt.isShow"}],staticClass:"write-prompt"},[i("span",{directives:[{name:"show",rawName:"v-show",value:!t.prompt.success,expression:"!prompt.success"}],staticStyle:{color:"red"}},[t._v(" "+t._s(t.prompt.message))]),i("span",{directives:[{name:"show",rawName:"v-show",value:t.prompt.success,expression:"prompt.success"}],staticStyle:{color:"green"}},[t._v(" "+t._s(t.prompt.message))])])],1)},R=[],F=(s("b0c0"),{name:"Community",props:["user"],data:function(){return{current:"current",promptToLoginShow:!1,writePanelShow:!1,article:{title:"",content:""},isShowArticleInfo:!1,articleInfo:{user_head:"",user_name:"",user_fans:"",article_title:"",article_content:"",article_collect:"",article_like:"",article_transmit:""},prompt:{message:"",isShow:!1,success:!1},isloading:!1,storeId:"",swicthOfUser:!1,isShowLikeCommentTransmit:!1,likeCommentTransmitMsg:"",isShowLikeCommentTransmitSuccess:!0,pic:"+",url:"",user_comment:"",comment:[],article_id:""}},methods:{chose:function(){this.current=" current"},writeArticle:function(){0==this.user.status?this.promptToLoginShow=!0:this.writePanelShow=!0},submit:function(){var t=this;if(""==this.article.title||""==this.article)this.prompt.isShow=!0,this.prompt.message="输入内容不能有空",setTimeout((function(){t.prompt.isShow=!1}),2e3);else{var e=Date.now(),s="user_nickname="+this.user.nickname+"&user_phone="+this.user.account+"&article_title="+this.article.title+"&article_content="+this.article.content+"&publish_date="+e;this.$http.post("http://10.8.236.179:8081/api/writeArticle",s).then((function(e){"error"==e.data?(t.prompt.isShow=!0,t.prompt.message="文章发布失败",setTimeout((function(){t.prompt.isShow=!1}),2e3)):(t.prompt.isShow=!0,t.prompt.success=!0,t.prompt.message="文章发布成功",setTimeout((function(){t.prompt.isShow=!1,t.prompt.success=!1}),2e3),t.article.content="",t.article.title="")}),(function(e){t.prompt.isShow=!0,t.prompt.message="数据请求失败",setTimeout((function(){t.prompt.isShow=!1}),2e3),console.log(e.message)}))}},checkArticleInfo:function(t){var e=this;if(this.article_id=t,1==this.user.status){this.swicthOfUser=!1,this.storeId=t,this.isloading=!0,this.isShowArticleInfo=!0;var s="article_id="+t;this.$http.post("http://10.8.236.179:8081/api/getArticleInfo",s).then((function(s){e.articleInfo.user_name=s.data[0].user_nickname,e.articleInfo.user_fans=e.user.fans,e.articleInfo.article_title=s.data[0].article_title,e.articleInfo.article_content=s.data[0].article_content,e.articleInfo.article_collect=s.data[0].article_collect,e.articleInfo.article_like=s.data[0].article_like,e.articleInfo.article_transmit=s.data[0].article_transmit,e.$http.get("http://10.8.236.179:8081/api/getAllComment?id=".concat(t)).then((function(t){e.comment=t.data,e.isloading=!1}),(function(t){e.isloading=!1,console.log(t.message)}))}),(function(t){console.log(t.message),e.isloading=!1}))}else this.promptToLoginShow=!0},likeThis:function(){var t=this;0==this.swicthOfUser?(this.isloading=!0,this.$http.get("http://10.8.236.179:8081/api/likeArticle?article_id=".concat(this.storeId)).then((function(e){t.isloading=!1,"成功点赞"==e.data?(t.articleInfo.article_like=parseInt(t.articleInfo.article_like)+1,t.isShowLikeCommentTransmit=!0,t.likeCommentTransmitMsg="点赞成功",t.swicthOfUser=!0,setTimeout((function(){t.isShowLikeCommentTransmit=!1}),2e3)):(t.isShowLikeCommentTransmit=!0,t.likeCommentTransmitMsg="系统繁忙",t.isShowLikeCommentTransmitSuccess=!1,setTimeout((function(){t.isShowLikeCommentTransmit=!1}),2e3))}),(function(e){t.isloading=!1,console.log(e.message)}))):(this.isShowLikeCommentTransmit=!0,this.likeCommentTransmitMsg="请不要重复点赞",this.isShowLikeCommentTransmitSuccess=!1,setTimeout((function(){t.isShowLikeCommentTransmit=!1,t.isShowLikeCommentTransmitSuccess=!0}),2e3))},openFile:function(){this.$refs.getFileInput.click()},getFile:function(t){var e=t.target.files[0];this.pic=e.name},beginComment:function(){this.$refs.comment.style.display="block"},closeComment:function(){this.$refs.comment.style.display="none"},submitComment:function(){var t=this;this.isloading=!0;var e=new Date,s="id="+this.article_id+"&user_phone="+this.user.phone+"&user_comment="+this.user_comment+"&comment_like=0&user_nickname="+this.user.nickname+"&comment_date="+e;this.$http.post("http://10.8.236.179:8081/api/addComment",s).then((function(e){t.isloading=!1,"添加成功"==e.data?(alert("添加成功"),t.user_comment=""):alert("添加失败"),t.$http.get("http://10.8.236.179:8081/api/getAllComment?id=".concat(t.article_id)).then((function(e){t.comment=e.data}),(function(t){console.log(t.message)}))}),(function(e){t.isloading=!1,console.log(e.message)}))}},mounted:function(){this.$bus.$on("checkArticleInfo",this.checkArticleInfo)}}),B=F,U=(s("4955"),Object(u["a"])(B,O,R,!1,null,null,null)),H=U.exports,q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comRecommend"},[s("ul",t._l(t.articles,(function(e){return s("li",{key:e.article_id,on:{click:function(s){return t.checkArticleInfo(e.article_id)}}},[s("div",{staticClass:"articleTitle"},[t._v(t._s(e.article_title))]),s("div",{staticClass:"articleAuthor"},[t._v(" 作者:"+t._s(e.user_nickname)+" ")]),s("div",{staticClass:"articleLikes"},[t._v(t._s(e.article_like)+"点赞")])])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isloading,expression:"isloading"}],staticClass:"articlesIsLoading"},[s("span",[t._v("")]),s("h5",[t._v("加载中...")])])])},G=[],Q={name:"ComRecommend",data:function(){return{articles:[],isloading:!1}},methods:{checkArticleInfo:function(t){this.$bus.$emit("checkArticleInfo",t)}},mounted:function(){var t=this;this.isloading=!0,this.$http.get("http://10.8.236.179:8081/api/getArticle").then((function(e){t.isloading=!1,t.articles=e.data,t.articles.sort((function(t,e){return e.article_like-t.article_like}))}),(function(e){t.isloading=!1,console.log(e.message)}))}},V=Q,J=(s("b5e4"),Object(u["a"])(V,q,G,!1,null,null,null)),z=J.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"comnew"},[s("ul",t._l(t.articles,(function(e){return s("li",{key:e.article_id,on:{click:function(s){return t.checkArticleInfo(e.article_id)}}},[s("div",{staticClass:"articleTitle"},[t._v(t._s(e.article_title))]),s("div",{staticClass:"articleAuthor"},[t._v(" 作者:"+t._s(e.user_nickname)+" ")]),s("div",{staticClass:"articleLikes"},[t._v(t._s(e.article_like)+"点赞")])])})),0),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isloading,expression:"isloading"}],staticClass:"articlesIsLoading"},[s("span",[t._v("")]),s("h5",[t._v("加载中...")])])])},W=[],X={name:"ComNew",data:function(){return{articles:[],isloading:!1}},methods:{checkArticleInfo:function(t){this.$bus.$emit("checkArticleInfo",t)}},mounted:function(){var t=this;this.isloading=!0,this.$http.get("http://10.8.236.179:8081/api/getArticle").then((function(e){t.isloading=!1,t.articles=e.data,t.articles.sort((function(t,e){return e.publish_date-t.publish_date})),console.log(e.data)}),(function(e){t.isloading=!1,console.log(e.message)}))}},Y=X,Z=(s("82ee"),Object(u["a"])(Y,K,W,!1,null,null,null)),tt=Z.exports,et=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"individual"},[i("div",{staticClass:"individual-header"},[i("div",{staticClass:"individula-header-set",on:{click:t.set}},[t._v("")]),i("router-link",{attrs:{to:"/login"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.user.status,expression:"!user.status"}],staticClass:"individula-header-loginHeadImage"})]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.user.status,expression:"user.status"}],staticClass:"individula-header-headImage",on:{click:t.setHeader}},[i("span",{directives:[{name:"show",rawName:"v-show",value:"9d589f239e4d11d86734540db915e242播放按钮光明.png"==t.user.headUrl,expression:'user.headUrl=="9d589f239e4d11d86734540db915e242播放按钮光明.png"'}]},[t._v("设置头像")]),i("img",{directives:[{name:"show",rawName:"v-show",value:"9d589f239e4d11d86734540db915e242播放按钮光明.png"!=t.user.headUrl,expression:'user.headUrl!="9d589f239e4d11d86734540db915e242播放按钮光明.png"'}],staticStyle:{width:"100%",height:"100%"},attrs:{src:s("7951")("./"+t.user.headUrl),alt:""}})]),i("input",{ref:"setHeadimg",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:"",required:""},on:{change:function(e){return t.getFile(e)}}}),i("div",{staticClass:"individual-header-user"},[t._v(t._s(t.user.nickname))]),i("div",{staticClass:"individual-header-message"},[i("div",{staticClass:"individual-myCoin"},[t._v(" 我的炳币:"+t._s(t.user.coin)+" "),i("span",{staticStyle:{color:"rgb(255, 208, 0)"}},[t._v("")])])])],1),i("div",{staticClass:"individual-body"},[i("ul",[t._m(0),i("li",{on:{click:t.myArticle}},[i("div",[t._v("")]),i("span",[t._v("我的帖子")])]),t._m(1),i("li",{on:{click:t.howManyLikes}},[i("div",[t._v("")]),i("span",[t._v("收到的赞")])]),t._m(2),i("li",{on:{click:t.vip}},[i("div",{attrs:{id:"vip"}},[t._v("VIP")]),i("span",[t._v("VIP特权")])])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.promptToLoginShow,expression:"promptToLoginShow"}],staticClass:"promptToLogin"},[i("main",[i("div",{staticClass:"close",on:{click:function(e){t.promptToLoginShow=!1}}},[t._v("")]),i("header",[t._v("当前你还没有登录")]),i("button",{on:{click:function(e){return t.$router.push("/login")}}},[t._v("立即登录")])])]),i("div",{staticClass:"checkMyGetLikes"}),i("transition",{attrs:{name:"individual"}},[i("router-view",{attrs:{user:t.user,getLikesNumber:t.getLikesNumber}})],1)],1)},st=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("div",[t._v("")]),s("span",[t._v("我的收藏")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("div",[t._v("")]),s("span",[t._v("我的粉丝")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("li",[s("div",[t._v("")]),s("span",[t._v("我的钱包")])])}],it={name:"Individual",props:["user"],data:function(){return{promptToLoginShow:!1,getLikesNumber:[]}},methods:{set:function(){this.$router.push({name:"set_config"}),console.log(this.user)},myArticle:function(){0==this.user.status?this.promptToLoginShow=!0:this.$router.push("/individual/my_article")},vip:function(){this.$router.push("/individual/vip")},setHeader:function(){this.$refs.setHeadimg.click()},getFile:function(t){var e=this,s=t.target.files[0],i=new FormData;i.append("user_headImage",s),i.set("account",this.user.account),console.log(i.get("user_headImage")),this.$http.post("http://10.8.236.179:8081/api/setUserHeadImage",i).then((function(t){alert("头像上传成功"),e.$bus.$emit("reviseUserHead",t.data[0])}),(function(t){console.log(t.message)}))},howManyLikes:function(){var t=this;0==this.user.status?alert("请先登录"):this.$http.get("http://10.8.236.179:8081/api/getLikeNumber?user_phone=".concat(this.user.account)).then((function(e){t.getLikesNumber=e.data,t.$router.push("/individual/get_likes")}),(function(t){console.log(t.message)}))}},watch:{},mounted:function(){}},at=it,ot=(s("804d"),Object(u["a"])(at,et,st,!1,null,null,null)),nt=ot.exports,rt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"setConfig"},[s("div",{staticClass:"login-back",on:{click:function(e){return t.$router.back()}}},[t._v("")]),s("div",{staticClass:"user"},[s("ul",[s("li",[t._v("用户昵称 "),s("span",[t._v(t._s(t.userMsg.nickname))])]),s("li",[t._v("真实姓名 "),s("span",[t._v(t._s(t.userMsg.real_name))])]),s("li",[t._v("邮箱 "),s("span",[t._v(t._s(t.userMsg.email))])]),s("li",[t._v("手机号 "),s("span",[t._v(t._s(t.userMsg.phone))])]),s("li",[t._v("年龄 "),s("span",[t._v(t._s(t.userMsg.age))])]),s("li",[t._v("性别 "),s("span",[t._v(t._s(t.userMsg.gender))])])])]),s("div",{staticClass:"reviseUserMsg",on:{click:t.reviseUserMsg}},[t._v("修改用户信息")]),s("div",{ref:"exitLogin",staticClass:"exitLogin",on:{click:t.exit}},[t._v(t._s(t.userMsg.status))]),s("transition",[s("router-view",{attrs:{user:t.user}})],1)],1)},lt=[],ct={name:"SetConfig",props:["user"],data:function(){return{userMsg:{status:"用户未登录",nickname:"未登录",phone:"未登录",real_name:"未登录",email:"未登录",age:"未登录",gender:"未登录"}}},methods:{reviseUserMsg:function(){0==this.user.status?alert("请先登录"):this.$router.push("/individual/set/revise_user")},exit:function(){1==this.user.status?(this.$bus.$emit("exitLogin"),this.$router.back()):alert("你还未登录任何账号")}},mounted:function(){1==this.user.status&&(this.$refs.exitLogin.classList.add("current"),this.userMsg.status="退出当前账户",this.userMsg.nickname=this.user.nickname,this.userMsg.phone=this.user.account,this.userMsg.real_name=this.user.real_name,this.userMsg.email=this.user.email,this.userMsg.age=this.user.age,this.userMsg.gender=this.user.gender)}},ut=ct,mt=(s("607c"),Object(u["a"])(ut,rt,lt,!1,null,null,null)),dt=mt.exports,ht=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"myArticle"},[s("div",{staticClass:"login-back",on:{click:function(e){return t.$router.back()}}},[t._v("")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isloading,expression:"isloading"}],staticClass:"articlesIsLoading"},[s("span",[t._v("")]),s("h5",[t._v("加载中...")])]),s("button",{on:{click:t.isDelete}},[t._v(t._s(t.deleteButton))]),s("ol",{staticClass:"myArticle-postList"},t._l(t.my_allPosts,(function(e){return s("li",{key:e.article_id},[s("header",[t._v(t._s(e.article_title))]),s("main",[t._v("")]),s("footer",[t._v(t._s(e.article_like))]),s("transition",{attrs:{name:"delete"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowDelete,expression:"isShowDelete"}],staticClass:"deleteIt"},[t._v("删除")])])],1)})),0)])},pt=[],vt={name:"MyArticle",props:["user"],data:function(){return{isloading:!0,my_allPosts:[],my_post:{nickname:"",title:"",content:"",date:"",like:"",collect:"",transmit:""},isShowDelete:!1,deleteButton:"批量删除"}},methods:{isDelete:function(){this.isShowDelete?(this.isShowDelete=!1,this.deleteButton="批量删除"):(this.isShowDelete=!0,this.deleteButton="取消删除")}},mounted:function(){var t=this;this.$http.get("http://10.8.236.179:8081/api/checkMyArticle?user_phone=".concat(this.user.account)).then((function(e){t.isloading=!1,t.my_allPosts=e.data}),(function(e){t.isloading=!1,console.log(e.message)}))}},ft=vt,gt=(s("6bb1"),Object(u["a"])(ft,ht,pt,!1,null,null,null)),wt=gt.exports,_t=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vip"},[s("div",{staticClass:"login-back",on:{click:function(e){return t.$router.back()}}},[t._v("")]),s("h1",{staticClass:"vip_title"},[t._v("VIP")]),t._m(0),s("div",{staticClass:"pay_code"})])},bt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"vip_privilege"},[s("ul",[s("li",[t._v("每天可以免费获取一次阿炳祝福")]),s("li",[t._v("登录一次就可以获取7天免登录")]),s("li",[t._v("发布的帖子默认增加1万点赞")]),s("li",[t._v("可以获取一份来自巨星的亲笔签名")]),s("li",[t._v("在下一个产品推出时立即获取该产品vip永久使用")])])])}],kt={name:"Vip"},Ct=kt,St=(s("1153"),Object(u["a"])(Ct,_t,bt,!1,null,null,null)),yt=St.exports,xt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"get_likes"},[s("div",{staticClass:"login-back",on:{click:function(e){return t.$router.back()}}},[t._v("")]),s("div",{staticClass:"middle_heart"},[t._v("")]),s("div",{staticClass:"heart_number"},[t._v("你一共收到了:"+t._s(t.number)+"个赞")])])},$t=[],Dt={name:"GetLikes",props:["getLikesNumber"],data:function(){return{number:0}},mounted:function(){var t=this;this.getLikesNumber.forEach((function(e){t.number+=parseInt(e.article_like)}))}},Lt=Dt,Pt=(s("540e"),Object(u["a"])(Lt,xt,$t,!1,null,null,null)),Nt=Pt.exports,Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"revise_userMsg"},[s("div",{staticClass:"login-back",staticStyle:{color:"white"},on:{click:function(e){return t.$router.back()}}},[t._v("")]),s("button",{on:{click:t.submit}},[t._v("提交信息")]),s("main",[s("ul",[s("li",[s("span",[t._v("真实姓名")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.real_name,expression:"new_user.real_name"}],attrs:{type:"text"},domProps:{value:t.new_user.real_name},on:{input:function(e){e.target.composing||t.$set(t.new_user,"real_name",e.target.value)}}})]),s("li",[s("span",[t._v("新邮箱")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.email,expression:"new_user.email"}],attrs:{type:"text"},domProps:{value:t.new_user.email},on:{input:function(e){e.target.composing||t.$set(t.new_user,"email",e.target.value)}}})]),s("li",[s("span",[t._v("年龄")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.age,expression:"new_user.age"}],attrs:{type:"text"},domProps:{value:t.new_user.age},on:{input:function(e){e.target.composing||t.$set(t.new_user,"age",e.target.value)}}})]),s("li",[s("span",[t._v("性别")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.new_user.gender,expression:"new_user.gender"}],attrs:{type:"text"},domProps:{value:t.new_user.gender},on:{input:function(e){e.target.composing||t.$set(t.new_user,"gender",e.target.value)}}})])])])])},It=[],Mt={name:"ReviseUserMsg",props:["user"],data:function(){return{new_user:{}}},methods:{submit:function(){var t=this;console.log(this.new_user);var e="email="+this.new_user.email+"&gender="+this.new_user.gender+"&real_name="+this.new_user.real_name+"&age="+this.new_user.age+"&account="+this.new_user.account;this.$http.post("http://10.8.236.179:8081/api/reviseUserMsg",e).then((function(e){""!=e.data?(t.$router.back(),setTimeout((function(){alert("修改成功")}),310)):console.log("修改失败")}),(function(t){console.log(t.message)}))}},mounted:function(){this.new_user=this.user}},At=Mt,jt=(s("49b7"),Object(u["a"])(At,Tt,It,!1,null,null,null)),Et=jt.exports,Ot=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login"},[s("div",{staticClass:"login-back",on:{click:function(e){return t.$router.back()}}},[t._v("")]),s("div",{staticClass:"login-logo"}),s("div",{staticClass:"login-head"},[s("ul",[s("div",{class:t.toggleSlide}),s("li",{on:{click:function(e){return t.loginToggle("letter")}}},[t._v("手机短信登录")]),s("li",{on:{click:function(e){return t.loginToggle("account")}}},[t._v("账号密码登录")])])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loginLetter,expression:"loginLetter"}],staticClass:"login-letter"},[s("div",{staticClass:"login-letter-head"},[s("div",{staticClass:"login-letter-headLeft"},[t._v("+86")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneLogin.phoneNumber,expression:"phoneLogin.phoneNumber"}],attrs:{type:"text"},domProps:{value:t.phoneLogin.phoneNumber},on:{input:function(e){e.target.composing||t.$set(t.phoneLogin,"phoneNumber",e.target.value)}}}),s("div",{staticClass:"login-letter-headGet"},[t._v("获取验证码")])]),s("div",{staticClass:"login-letter-idcode"},[s("div",{staticClass:"login-letter-idcode-left"},[t._v("输入验证码")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phoneLogin.idcode,expression:"phoneLogin.idcode"}],attrs:{type:"text"},domProps:{value:t.phoneLogin.idcode},on:{input:function(e){e.target.composing||t.$set(t.phoneLogin,"idcode",e.target.value)}}})]),s("div",{class:t.loginPhone},[t._v("登 录")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loginLetter,expression:"!loginLetter"}],staticClass:"login-account"},[s("form",{on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"login-userAccount"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordLogin.account,expression:"passwordLogin.account"}],attrs:{type:"text",placeholder:"请输入账号",name:"account"},domProps:{value:t.passwordLogin.account},on:{input:function(e){e.target.composing||t.$set(t.passwordLogin,"account",e.target.value)}}})]),s("div",{staticClass:"login-userPassword"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.passwordLogin.password,expression:"passwordLogin.password"}],attrs:{type:"password",placeholder:"请输入密码",name:"password"},domProps:{value:t.passwordLogin.password},on:{input:function(e){e.target.composing||t.$set(t.passwordLogin,"password",e.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.passwordShow,expression:"!passwordShow"}],on:{click:function(e){return t.showPassword("open")}}},[t._v("")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.passwordShow,expression:"passwordShow"}],staticStyle:{color:"skyblue"},on:{click:function(e){return t.showPassword("close")}}},[t._v("")])]),s("button",{class:t.loginAccount,attrs:{type:"submit"},on:{click:t.passwordLoginButton}},[t._v("登 录")])]),s("div",{staticClass:"login-userRegister",on:{click:t.registerAccount}},[t._v("没有账号?注册")]),s("div",{staticClass:"login-userForget",on:{click:t.retrieve}},[t._v("忘记密码?")])]),t._m(0),s("div",{staticClass:"login-agreement"},[t._v(" 登录即表示你已阅读并同意 "),s("a",{attrs:{href:"javascript:;"},on:{click:t.checkAgreementBook}},[t._v(" 阿炳协议 ")]),t._v(" 和 "),s("a",{attrs:{href:"javascript:;"}},[t._v(" 隐私协议")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.promptShow,expression:"promptShow"}],staticClass:"loginPrompt"},[t._v(t._s(t.promptMsg))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"},[s("div",{staticClass:"loadingSvg"},[t._v("")])]),s("transition",{attrs:{name:"register"}},[s("router-view")],1)],1)},Rt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-more"},[s("div",{staticClass:"login-more-mode"}),s("div",{staticClass:"login-more-mode"}),s("div",{staticClass:"login-more-mode"})])}],Ft=(s("77ed"),{name:"Login",data:function(){return{phoneLogin:{phoneNumber:"",idcode:""},passwordLogin:{account:"",password:""},loginLetter:!0,toggleSlide:"toggleSlide",passwordShow:!1,loginPhone:"login-letter-button",loginAccount:"login-userButton",promptShow:!1,promptMsg:"",loading:!1}},methods:{loginToggle:function(t){"letter"==t?(this.loginLetter=!0,this.toggleSlide="toggleSlide"):"account"==t&&(this.loginLetter=!1,this.toggleSlide="toggleSlide move")},showPassword:function(t){var e=document.querySelector(".login-userPassword input");"open"===t?(this.passwordShow=!0,e.type="text"):(this.passwordShow=!1,e.type="password")},passwordLoginButton:function(){var t=this,e=this.passwordLogin.account,s=this.passwordLogin.password,i="account="+e+"&password="+s;""==this.passwordLogin.account||this.passwordLogin.password.length<6?(this.promptMsg="请填写好信息",this.promptShow=!0,setTimeout((function(){t.promptShow=!1}),2e3)):(this.loading=!0,this.$http.post("http://10.8.236.179:8081/api/login",i).then((function(e){t.loading=!1,""==e.data.data||e.data.data==[]?(t.promptMsg="账号或密码不正确",t.promptShow=!0,setTimeout((function(){t.promptShow=!1}),2e3)):(t.promptMsg="登录成功",t.promptShow=!0,t.$bus.$emit("loginStatus",e.data.data),setTimeout((function(){t.promptShow=!1,t.$router.back()}),500))}),(function(e){t.loading=!1,console.log(e.message)})))},registerAccount:function(){this.$router.push("/login/register")},retrieve:function(){this.$router.push("/login/retrieve")},checkAgreementBook:function(){this.$router.push("/login/agreement")}},watch:{"phoneLogin.phoneNumber":{handler:function(){11==this.phoneLogin.phoneNumber.length?this.loginPhone="login-letter-button active":this.loginPhone="login-letter-button"}},"passwordLogin.account":{handler:function(){0!=this.passwordLogin.account.length?this.loginAccount="login-userButton active":this.loginAccount="login-userButton"}}}}),Bt=Ft,Ut=(s("825d"),Object(u["a"])(Bt,Ot,Rt,!1,null,null,null)),Ht=Ut.exports,qt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("div",{staticClass:"login-back",on:{click:function(e){return t.$router.back()}}},[t._v("")]),s("form",{staticClass:"registerPanel",on:{submit:function(t){t.preventDefault()}}},[s("div",{staticClass:"register-nickname"},[s("div",{staticClass:"input-header"},[t._v("昵    称:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.nickname,expression:"registerData.nickname"}],attrs:{type:"text"},domProps:{value:t.registerData.nickname},on:{input:function(e){e.target.composing||t.$set(t.registerData,"nickname",e.target.value)}}})]),s("div",{staticClass:"register-phoneNumber"},[s("div",{staticClass:"input-header"},[t._v("邮    箱:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.email,expression:"registerData.email"}],attrs:{type:"text"},domProps:{value:t.registerData.email},on:{input:function(e){e.target.composing||t.$set(t.registerData,"email",e.target.value)}}})]),s("div",{staticClass:"register-email"},[s("div",{staticClass:"input-header"},[t._v("手 机 号:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.phoneNumber,expression:"registerData.phoneNumber"}],attrs:{type:"text"},domProps:{value:t.registerData.phoneNumber},on:{blur:t.checkPhoneNumber,input:function(e){e.target.composing||t.$set(t.registerData,"phoneNumber",e.target.value)}}})]),s("div",{staticClass:"register-password"},[s("div",{staticClass:"input-header"},[t._v("密    码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.password,expression:"registerData.password"}],attrs:{type:"password"},domProps:{value:t.registerData.password},on:{input:function(e){e.target.composing||t.$set(t.registerData,"password",e.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.passwordShow,expression:"!passwordShow"}],on:{click:function(e){return t.showPassword("open")}}},[t._v("")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.passwordShow,expression:"passwordShow"}],staticStyle:{color:"skyblue"},on:{click:function(e){return t.showPassword("close")}}},[t._v("")])]),s("div",{staticClass:"register-repassword"},[s("div",{staticClass:"input-header"},[t._v("确认密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.registerData.repassword,expression:"registerData.repassword"}],attrs:{type:"password"},domProps:{value:t.registerData.repassword},on:{input:function(e){e.target.composing||t.$set(t.registerData,"repassword",e.target.value)}}}),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.repasswordShow,expression:"!repasswordShow"}],on:{click:function(e){return t.showRePassword("open")}}},[t._v("")]),s("span",{directives:[{name:"show",rawName:"v-show",value:t.repasswordShow,expression:"repasswordShow"}],staticStyle:{color:"skyblue"},on:{click:function(e){return t.showRePassword("close")}}},[t._v("")])]),s("button",{on:{click:t.register}},[t._v("注册")]),s("div",{staticClass:"register-promise"},[t._v("*我承诺对所有用户密码进行加密*")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.promptShow,expression:"promptShow"}],staticClass:"registerPrompt"},[s("span",{staticStyle:{color:"red"}},[t._v("")]),t._v(" "+t._s(t.promptMsg))]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loading"},[s("div",{staticClass:"loadingSvg"},[t._v("")])])])},Gt=[],Qt={name:"Register",data:function(){return{registerData:{nickname:"",phoneNumber:"",email:"",password:"",repassword:""},promptShow:!1,promptMsg:"",passwordShow:!1,repasswordShow:!1,loading:!1}},methods:{showPassword:function(t){var e=document.querySelector(".register-password input");"open"==t?(this.passwordShow=!0,e.type="text"):(this.passwordShow=!1,e.type="password")},showRePassword:function(t){var e=document.querySelector(".register-repassword input");"open"==t?(this.repasswordShow=!0,e.type="text"):(this.repasswordShow=!1,e.type="password")},checkPhoneNumber:function(){var t=this;11!=this.registerData.phoneNumber.length&&(this.promptShow=!0,this.promptMsg="手机号格式不正确",setTimeout((function(){t.promptShow=!1}),3e3))},register:function(){var t=this,e=document.querySelector(".register-repassword input");if(this.registerData.password!=this.registerData.repassword)this.promptShow=!0,this.promptMsg="两次密码不一致",e.focus(),setTimeout((function(){t.promptShow=!1}),3e3);else if(""==this.registerData.password||""==this.registerData.repassword&&""==this.registerData.nickname&&""==this.registerData.email&&""==this.registerData.phoneNumber)this.promptShow=!0,this.promptMsg="有信息未填",setTimeout((function(){t.promptShow=!1}),3e3);else{this.loading=!0;var s="account="+this.registerData.phoneNumber+"&password="+this.registerData.password+"&status=false&email="+this.registerData.email+"&nickname="+this.registerData.nickname+"&coin=0";this.$http.post("http://10.8.236.179:8081/api/register",s).then((function(e){t.loading=!1,"该号码已被注册"==e.data?(t.promptShow=!0,t.promptMsg="该号码已被注册",setTimeout((function(){t.promptShow=!1}),3e3)):(t.promptShow=!0,t.promptMsg="注册成功",setTimeout((function(){t.promptShow=!1,t.$router.back()}),500),t.registerData.phoneNumber="",t.registerData.password="",t.registerData.repassword="",t.registerData.nickname="",t.registerData.email="")}),(function(e){t.loading=!1,console.log(e.message)}))}}}},Vt=Qt,Jt=(s("541d"),Object(u["a"])(Vt,qt,Gt,!1,null,null,null)),zt=Jt.exports,Kt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"retrieve"},[s("div",{staticClass:"login-back",on:{click:function(e){return t.$router.back()}}},[t._v("")]),s("div",{staticClass:"retrieve-title"}),s("div",{staticClass:"retrieve-body"},[s("header",[t._v("请输入你要找回账号所绑定的手机号")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newPassword,expression:"newPassword"}],attrs:{type:"text"},domProps:{value:t.newPassword},on:{input:function(e){e.target.composing||(t.newPassword=e.target.value)}}}),s("button",{on:{click:t.searchAccount}},[t._v("查询")])]),s("transition",[s("router-view",{attrs:{getId:t.getId}})],1)],1)},Wt=[],Xt={name:"Retrieve",data:function(){return{newPassword:"",getId:"",isShowRevisePassword:!1}},methods:{searchAccount:function(){var t=this,e="account="+this.newPassword;this.$http.post("http://10.8.236.179:8081/api/searchAccount",e).then((function(e){"没有结果"==e.data?alert("当前账号不存在"):(t.getId=e.data[0].id,console.log(t.getId),t.$router.push("/login/retrieve/revise_password"))}),(function(t){console.log(t.message)}))}}},Yt=Xt,Zt=(s("f05e"),Object(u["a"])(Yt,Kt,Wt,!1,null,null,null)),te=Zt.exports,ee=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"agreement"},[s("div",{staticClass:"login-back",on:{click:function(e){return t.$router.back()}}},[t._v("")]),t._m(0)])},se=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"agreement-body"},[t._v(" 一、序言 "),s("br"),t._v(" 1、您使用阿炳影视软件和/或服务，即视为您签署了本协议，表明您自愿接受本协议全部条款的约束，本协议将构成您与上海佰集科技有限公司（以下称我公司） 就“阿炳”软件及服务（以下统称“阿炳”）之间具有约束力的法律文件。无论您是进入阿炳浏览网页， 还是在阿炳上发布任何内容，或者是直接或通过各类方式（如站外API引用等）间接使用阿炳的行为，都将被视作已无条件接受本声明所涉全部内容。 "),s("br"),t._v(" 2、我公司有权利对本协议进行修改，我公司将在阿炳相关页面公告或发送通知等方式公布修改的内容，修改后的协议一经公布即有效的代替原协议。如果您不同意本协议的修改，请立即停止访问或使用简书或取消已经获得的服务；如果您选择继续访问或使用简书，则视为您已接受本协议的修改。 "),s("br"),t._v(" 3、本协议所列明的条款，并不能完全涵盖您与我公司之间所有的权利和义务。因此，我公司不定期公布的其他声明、规则、子协议等均视为本协议之补充协议，为本协议不可 分割的组成部分，与本协议具有同等法律效力。"),s("br"),t._v(" 4、如本协议与简书的补充协议不一致，以补充协议内容为准。"),s("br"),t._v(" 二、帐号密码与注册、登录 "),s("br"),t._v(" 1、帐号的取得 (1)您确认，在您开始使用阿炳时，已经具备中华人民共和国法律规定的与您行为相适应的民事行为能力。若您不具备前述与您行为相适应的民事行为能力， 则您及您的监护人应依照法律规定承担因此而导致的一切后果。"),s("br"),t._v(" (2)您注册成功后，即成为阿炳注册用户，用户须对在阿炳的注册信息的真实性、合法性、有效性承担全部责任。您可自行创建、修改昵称，但用户名和昵称的命名及使用应遵守 相关法律法规并符合网络道德，不得冒充他人或恶意注册使人误认；不得利用他人的名义发布任何信息；不得恶意使用注册帐号导致其他用户误认；用户名和昵称中不能含 有任何侮辱、诽谤、淫秽或暴力等侵害他人合法权益或违反公序良俗的词语。如您违反前述规定，简书有权随时限制或拒绝您使用该账号，甚至注销该账号。 (3)用户名的管理 1)请勿以党和国家领导人或其他名人的真实姓名、字、号、艺名、笔名、头衔等注册和使用昵称（如确为本人，需要提交相关证据并通过审核 方可允许使用）； 2)请勿以国家组织机构或其他组织机构的名称等注册和使用昵称（如确为该机构，需要提交相关证据并通过审核方可允许使用）； 3)请勿注册 和使用与其他网友相同、相仿的用户名或昵称； 4)请勿注册和使用不文明、不健康的用户名和昵称； 5)请勿注册和使用易产生歧义、引起他人误解或带有各种奇形 怪状符号的用户名和昵称。 6)用户以虚假信息骗取账号名称注册，或账号头像、简介等注册信息存在违法和不良信息的，阿炳将暂停或注销。"),s("br"),t._v(" 2、请您妥善保管您注册时填写的用户帐号和密码，不要将帐号密码告知他人，因您原因导致帐号或密码泄露而造成的法律后果由用户负责。同时，您还应当对以此 帐号登录进行的所有活动和事件承担全部后果与法律责任。"),s("br"),t._v(" 3、若您的帐号或密码遗失，可以通过注册信息按照相关步骤找回密码，若您发现账号遭到未授权的使用或存在其他安全漏洞的情况，应立即告知我公司。"),s("br"),s("br"),s("br"),s("h2",[t._v("*默认同意阿炳为地球最高首领的地位并拥戴阿炳*")])])}],ie={name:"Agreement"},ae=ie,oe=(s("0bcd"),Object(u["a"])(ae,ee,se,!1,null,null,null)),ne=oe.exports,re=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"revise_password"},[s("div",{staticClass:"login-back",on:{click:function(e){return t.$router.back()}}},[t._v("")]),s("header",[t._v("设置一个新的密码")]),s("div",{staticClass:"set_newPassword"},[s("span",[t._v("设置新的密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"password",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("i",{directives:[{name:"show",rawName:"v-show",value:!t.isShowPassword,expression:"!isShowPassword"}],on:{click:function(e){return t.showPassword("open")}}},[t._v("")]),s("i",{directives:[{name:"show",rawName:"v-show",value:t.isShowPassword,expression:"isShowPassword"}],staticStyle:{color:"skyblue"},on:{click:function(e){return t.showPassword("close")}}},[t._v("")])]),s("div",{staticClass:"set_newRePassword"},[s("span",[t._v("重新输入密码:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.repassword,expression:"repassword"}],ref:"repassword",attrs:{type:"password"},domProps:{value:t.repassword},on:{input:function(e){e.target.composing||(t.repassword=e.target.value)}}}),s("i",{directives:[{name:"show",rawName:"v-show",value:!t.isShowRePassword,expression:"!isShowRePassword"}],on:{click:function(e){return t.showRePassword("open")}}},[t._v("")]),s("i",{directives:[{name:"show",rawName:"v-show",value:t.isShowRePassword,expression:"isShowRePassword"}],staticStyle:{color:"skyblue"},on:{click:function(e){return t.showRePassword("close")}}},[t._v("")])]),s("button",{on:{click:t.revisePassword}},[t._v("修 改 密 码")]),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowPrompt,expression:"isShowPrompt"}],staticClass:"registerPrompt"},[s("span",{staticStyle:{color:"red"}},[t._v("")]),t._v(" "+t._s(t.promptMsg))])])},le=[],ce={name:"RevisePassword",props:["getId"],data:function(){return{isShowPassword:!1,isShowRePassword:!1,password:"",repassword:"",isShowPrompt:!1,promptMsg:""}},methods:{showPassword:function(t){"open"==t?(this.isShowPassword=!0,this.$refs.password.type="text"):(this.isShowPassword=!1,this.$refs.password.type="password")},showRePassword:function(t){"open"==t?(this.isShowRePassword=!0,this.$refs.repassword.type="text"):(this.isShowRePassword=!1,this.$refs.repassword.type="password")},revisePassword:function(){var t=this;if(this.password==this.repassword){var e="password="+this.password+"&id="+this.getId;this.$http.post("http://10.8.236.179:8081/api/revisePassword",e).then((function(e){"修改成功"==e.data?(t.isShowPrompt=!0,t.promptMsg="密码修改成功",setTimeout((function(){t.isShowPassword=!1,t.$router.push("/login")}),800)):(t.isShowPrompt=!0,t.promptMsg="密码修改失败",setTimeout((function(){t.isShowPassword=!1}),1e3))}))}else this.isShowPrompt=!0,this.promptMsg="两次密码不一致",setTimeout((function(){t.isShowPassword=!1}),1e3)}}},ue=ce,me=(s("78c4"),Object(u["a"])(ue,re,le,!1,null,null,null)),de=me.exports,he=new g["a"]({routes:[{path:"/",redirect:"/home"},{path:"/login",component:Ht,children:[{path:"/login/register",component:zt},{path:"/login/retrieve",component:te,children:[{path:"/login/retrieve/revise_password",component:de}]},{path:"/login/agreement",component:ne}]},{path:"/home",component:y,children:[{path:"/filer_entries",component:N}]},{path:"/search",component:E},{path:"/community",component:H,children:[{path:"/community/recommend",component:z},{path:"/community/new",component:tt}]},{path:"/individual",component:nt,children:[{name:"set_config",path:"/individual/set",component:dt,children:[{path:"/individual/set/revise_user",component:Et}]},{path:"/individual/my_article",component:wt},{path:"/individual/vip",component:yt},{path:"/individual/get_likes",component:Nt}]}]}),pe=s("2f62");i["a"].use(pe["a"]);var ve={},fe={},ge={},we=new pe["a"].Store({actions:ve,mutations:fe,state:ge}),_e=s("bc3a"),be=s.n(_e);i["a"].config.productionTip=!1,i["a"].use(g["a"]),i["a"].prototype.$http=be.a,new i["a"]({render:function(t){return t(f)},store:we,router:he,beforeCreate:function(){i["a"].prototype.$bus=this}}).$mount("#root")},"5ea1":function(t,e,s){},"607c":function(t,e,s){"use strict";s("1b16")},"617d":function(t,e,s){},"67fa":function(t,e,s){t.exports=s.p+"img/9ac9231ec58180be557e1d957ea87bda头像1.32550700.jpg"},"6bb1":function(t,e,s){"use strict";s("7805")},"6fe8":function(t,e,s){t.exports=s.p+"img/eb9ed604b21cb818c2169ec7992e35bd遗憾.996a01b8.jpg"},7805:function(t,e,s){},"78c4":function(t,e,s){"use strict";s("5ea1")},7951:function(t,e,s){var i={"./380d4fdbbc8f285aa89c9201659b922a微信图标.jpg":"8fbd","./4d796d0a59f9babf6432a533e40bf973头像1.jpg":"929b","./9ac9231ec58180be557e1d957ea87bda头像1.jpg":"67fa","./9d589f239e4d11d86734540db915e242播放按钮光明.png":"f6a8","./df6ff48a10611abcaf0e9754def44ed0头像1.jpg":"31c3","./e55b272c9a375ce3d0b38b32ce794ccf1631248147974.jpg":"4849","./eb9ed604b21cb818c2169ec7992e35bd遗憾.jpg":"6fe8","./f9c953fc3c0acbcae4667e72a0ea7faaQQ图标.jpg":"b3d7"};function a(t){var e=o(t);return s(e)}function o(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=o,t.exports=a,a.id="7951"},"804d":function(t,e,s){"use strict";s("2f1b")},"825d":function(t,e,s){"use strict";s("3b9b")},"82ee":function(t,e,s){"use strict";s("e268")},"85ec":function(t,e,s){},"8acf":function(t,e,s){},"8fbd":function(t,e,s){t.exports=s.p+"img/380d4fdbbc8f285aa89c9201659b922a微信图标.e03fdd3f.jpg"},"929b":function(t,e,s){t.exports=s.p+"img/4d796d0a59f9babf6432a533e40bf973头像1.32550700.jpg"},a4d5:function(t,e,s){"use strict";s("48d8")},a9aa:function(t,e,s){t.exports=s.p+"img/海报1.4697b698.jpg"},aad3:function(t,e,s){},b19e:function(t,e,s){},b3d7:function(t,e,s){t.exports=s.p+"img/f9c953fc3c0acbcae4667e72a0ea7faaQQ图标.ab9d2d13.jpg"},b403:function(t,e,s){t.exports=s.p+"img/海报3.796697cb.jpg"},b5e4:function(t,e,s){"use strict";s("ea32")},c600:function(t,e,s){},e0af:function(t,e,s){"use strict";s("8acf")},e268:function(t,e,s){},ea32:function(t,e,s){},f05e:function(t,e,s){"use strict";s("c600")},f6a8:function(t,e,s){t.exports=s.p+"img/9d589f239e4d11d86734540db915e242播放按钮光明.76cff004.png"}});
//# sourceMappingURL=index.63c886b4.js.map